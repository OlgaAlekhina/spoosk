{% extends 'flatpages/default_resort.html' %}
{% load static %}

{% block title %}
    <title>{{ resort.name }}</title>
{% endblock title %}


{% block content %}
 <main class="page">

            <section class="page-banner page_resorts-banner">
                <div class="banner-image _img">
                    <img src="{{ resort.main_resort_img.url }}" alt="Фото курорта">
                </div>
            </section>

            <section class="page-basic-info">
                <div class="wrapper">
                    <div class="basic-info-container">
                        <div class="basic-info-content">

                            <div class="basic-info-left">
                                <div class="basic-info-item basic-info-resort">
                                    <div class="resort-content">
                                        <div class="resort-name">{{ resort.name }}</div>
                                        <div class="resort-region">{{ resort.region }}</div>
                                        <a class="resort-link-site" href="{{ resort.link_ofsite }}" target="_blank">{{ resort.link_ofsite }}</a>
                                        <div class="resort-sezon">
                                            <span>Сезон катания 2022/2023:</span><br>
                                            <span>{{ resort.begin_season }} - {{ resort.end_season }}</span>
                                        </div>
                                    </div>
                                    <div class="resort-button">

                                        <div class="resort-button-box left">
                                            <button class="resort-btn resort-btn-favorites">
                                                <svg width="31" height="31" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M15.5639 5.34514C17.1373 3.87288 19.041 2.50024 21.7512 2.50024C23.8889 2.50024 25.9861 3.36915 27.4974 4.88094C30.6016 7.98415 30.6338 13.2389 27.4976 16.3739L16.4476 27.4239C16.2132 27.6583 15.8953 27.79 15.5637 27.79C15.2322 27.79 14.9143 27.6583 14.6799 27.4239L3.62985 16.3739C0.493255 13.2373 0.493255 8.01774 3.62985 4.88114C5.15389 3.35711 7.22092 2.50091 9.37624 2.50091C12.0914 2.50091 13.9902 3.87147 15.5639 5.34514ZM21.7512 5.00024C19.6445 5.00024 18.2179 6.20366 16.4476 7.97391C16.2132 8.20833 15.8953 8.34003 15.5637 8.34003C15.2322 8.34003 14.9143 8.20833 14.6799 7.97391C12.9062 6.20025 11.488 5.00091 9.37624 5.00091C7.88397 5.00091 6.45282 5.59371 5.39762 6.64891C3.23733 8.8092 3.23733 12.4459 5.39762 14.6061L15.5637 24.7723L25.7299 14.6061C27.8835 12.4535 27.864 8.78201 25.7301 6.64912C24.6876 5.60618 23.2258 5.00024 21.7512 5.00024Z" fill="white"/>
                                                    <path d="M14.6167 10.1889C13.2572 8.18959 13.6059 6.53213 11.0954 6.53213C7.22089 6.53213 6.89685 7.57532 6.89685 11.3175C6.89685 11.4381 7.01928 13.59 6.62597 13.3039C5.60531 12.5616 4.195 10.7694 4.88787 9.55688C7.6929 4.64808 9.41703 11.0507 9.76358 13.8231C9.8962 14.8841 11.5585 17.4854 11.0954 18.3602C10.641 19.2185 8.50205 16.8163 8.31893 16.4867C7.12783 14.3427 12.2134 16.7521 12.9012 17.5928C13.7094 18.5806 13.9945 20.483 14.9327 21.6559C15.8286 22.7757 15.3122 25.1673 16.4451 21.7687C17.0974 19.812 17.9776 18.7798 19.5827 17.7282C21.3944 16.5412 22.7371 16.0373 22.314 13.7103C22.0422 12.2152 15.69 16.797 15.0005 17.051C10.9151 18.5562 8.92839 15.3857 8.92839 11.4078C8.92839 10.7139 8.39015 9.92299 9.15412 9.8729C10.3373 9.79531 12.2362 10.1105 13.0818 11.0467C13.3014 11.2898 9.5188 11.1039 9.24441 11.0918C5.45478 10.9256 9.24053 13.8043 10.9148 14.1391C12.3657 14.4293 15.0738 14.0361 15.7905 12.4236C16.2706 11.3433 18.2735 11.5159 18.2735 9.3763C18.2735 8.72195 18.617 6.98708 19.4924 6.93844C21.4652 6.82885 24.6647 4.97096 25.6096 7.25446C27.3396 11.4351 26.3105 14.0647 22.6977 16.735C21.6596 17.5023 19.5731 18.1239 18.7701 19.1277C17.4164 20.8199 20.4244 15.0846 21.6594 13.3039C23.0952 11.2337 21.4256 12.703 20.6211 13.5522C18.7052 15.5745 16.8729 18.3418 14.4587 19.8275C14.086 20.0568 12.0106 14.1087 14.391 13.5297C16.9417 12.9092 17.8656 14.0469 16.242 12.0173C15.7311 11.3788 15.4299 9.75365 16.4677 9.3763C18.0723 8.79281 24.2012 7.19053 24.6841 9.55688C24.9296 10.7596 24.8969 11.5542 23.7135 12.0173C22.897 12.3368 21.1419 13.1611 20.5082 12.1753C18.8618 9.61426 21.4826 10.0725 22.5623 11.7239C24.1655 14.1758 21.2211 16.196 20.0793 17.8185C19.2563 18.988 19.3423 20.6267 18.4541 21.7687C17.7956 22.6154 15.917 23.403 14.8876 23.0779C13.8121 22.7383 13.5434 20.0821 13.2172 19.1503C13.008 18.5524 12.7363 17.2944 13.0818 16.6899C13.4604 16.0273 15.4705 14.7607 14.9327 16.3738C14.4481 17.8277 12.9915 18.3047 12.9915 19.9403" stroke="white" stroke-width="3" stroke-linecap="round"/>
                                                    <path d="M19.4924 13.4395C18.934 13.4395 17.8983 13.7204 17.8672 12.9429C17.8456 12.4028 18.0518 11.723 17.2803 11.9045C16.0795 12.1871 13.5151 15.2835 12.6078 13.6201C12.1264 12.7375 11.757 11.2854 11.1631 10.5728C10.8274 10.1699 11.041 9.63974 10.9374 9.17324C10.6795 8.01274 10.8197 8.32737 12.1789 8.15747" stroke="white" stroke-width="3" stroke-linecap="round"/>
                                                    <path d="M7.30316 13.4395V15.0647" stroke="black" stroke-width="3" stroke-linecap="round"/>
                                                    <path d="M8.9284 15.4709C8.15957 15.1634 6.89685 14.5842 6.89685 13.62C6.89685 12.321 7.91085 12.6188 8.13835 13.6425C8.31791 14.4506 9.88702 15.0012 9.74101 15.8772C9.5609 16.9579 5.43887 15.9345 4.9556 15.0646C4.69865 14.6021 4.86531 13.7286 4.86531 13.2137C4.86531 10.7281 8.90613 15.3466 9.49271 16.0352C10.6598 17.4053 11.9327 18.8815 13.1946 20.1435C15.2668 22.2156 13.6453 20.055 12.5852 19.218C10.2608 17.3829 9.08914 12.6585 8.4318 9.7826C8.14696 8.53646 7.02849 6.12582 8.72524 6.12582C9.78733 6.12582 12.5159 7.49808 11.4791 7.72848C10.5089 7.94408 9.29624 7.75105 8.29636 7.75105C7.72756 7.75105 6.45166 7.57189 6.17452 6.93844C5.32656 5.00023 10.1688 9.07832 11.0502 11.0015C11.8811 12.8143 12.5852 15.3082 12.5852 17.2993C12.5852 18.222 13.5661 19.0964 14.0298 19.85C14.2411 20.1933 14.9964 20.9325 15.023 21.1592C15.2345 22.9568 14.78 22.0643 13.5784 20.6175C12.2659 19.0372 12.5852 17.1827 12.5852 15.2452C12.5852 13.2287 12.5852 11.2122 12.5852 9.19571C12.5852 8.75331 12.8258 7.06965 12.3369 6.96101C10.7934 6.61801 10.4178 6.62169 9.583 4.95204C8.89892 3.58387 10.7378 6.7154 10.9599 7.34474C11.1399 7.85476 11.7315 9.18891 11.8628 8.96998C13.3655 6.46555 12.9118 14.0384 12.9012 14.1166C12.5053 17.032 12.4306 18.1281 15.4293 19.1277" stroke="white" stroke-width="3" stroke-linecap="round"/>
                                                    <path d="M10.9056 19.5657C11.1241 19.9548 12.1724 22.2537 12.4884 20.6736" stroke="white" stroke-width="3" stroke-linecap="round"/>
                                                    <path d="M18.0282 9.43557C17.9294 8.93014 17.9657 7.87092 17.6765 7.44827C17.5117 7.2074 16.6931 8.18426 16.6037 8.29243C16.3945 8.5457 15.0586 10.3261 15.6364 9.76971C16.7017 8.74391 17.5965 7.69218 18.8724 6.93825C19.2151 6.73576 19.6644 6.6781 19.9276 6.34909C20.6406 5.45792 21.5518 4.805 22.6975 5.67201C23.7622 6.47773 23.8846 7.69381 23.8846 8.95193C23.8846 9.79989 23.2267 10.0366 22.4249 10.1918C20.9899 10.4695 18.7608 11.8986 18.0282 13.164C17.7211 13.6946 18.0279 14.3343 17.571 14.8171C17.4205 14.9761 16.1358 16.1745 15.9706 15.9778C15.6098 15.5483 15.852 14.4869 16.0058 14.0257C16.4034 12.8327 16.4454 11.8823 16.4454 10.6315C16.4454 10.0944 16.4104 9.09425 15.7244 8.96952C15.4782 8.92476 15.3219 9.06092 15.1001 9.11021C14.5852 9.22462 13.6758 8.27894 13.3414 7.97587C12.8839 7.56124 12.3588 7.15361 11.9608 6.68324C11.7081 6.38458 12.3301 7.02437 12.3301 7.5362" stroke="white" stroke-width="3" stroke-linecap="round"/>
                                                </svg>
                                            </button>
                                            <div class="resort-btn-text">В избранное</div>
                                        </div>

                                        <div class="resort-button-box">
                                            <button class="resort-btn resort-btn-comparison">
                                                <svg width="31" height="31" viewBox="0 0 31 31" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M23 25.5V13" stroke="#FAA800" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                    <path d="M15.5 25.5V5.5" stroke="#FAA800" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                    <path d="M8 25.5V18" stroke="#FAA800" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                </svg>
                                            </button>
                                            <div class="resort-btn-text">В сравнение</div>
                                        </div>

                                    </div>
                                </div>
                            </div>

                            <div class="block-vert-line"></div>

                            <div class="basic-info-right">
                                <div class="basic-info-item basic-info-description">

                                    <div class="resort-description"> {{ resort.info }}</div>




                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </section>

            <section class="page-additional-info">
                <div class="wrapper">
                    <div class="content">
                        <div class="additional-info-container">

                            <div class="additional-info-column">
                                <div class="additional-info-property">
                                    <ul class="nav-property">

                                        <li>Возможность проката
                                            {% if resort.equip_rental == 1  %}
                                            <img src="{% static 'image/resorts/status-icon-green.svg' %}" alt="">
                                            {% else %}
                                            <img src="{% static 'image/resorts/status-icon-red.svg' %}" alt="">
                                            {% endif %}
                                        </li>
                                        <li>
                                            Наличие школ катания
                                            {% if resort.school == 1 %}
                                            <img src="{% static 'image/resorts/status-icon-green.svg' %}" alt="">
                                            {% else %}
                                            <img src="{% static 'image/resorts/status-icon-red.svg' %}" alt="">
                                            {% endif %}
                                        </li>
                                        <li>
                                            Вечернее катание
                                            {% if resort.evening_skiing == 1 %}
                                            <img src="{% static 'image/resorts/status-icon-green.svg' %}" alt="">
                                            {% else %}
                                            <img src="{% static 'image/resorts/status-icon-red.svg' %}" alt="">
                                            {% endif %}
                                        </li>
                                        <li>
                                            Сноупарк
                                            {% if resort.snowpark == 1 %}
                                            <img src="{% static 'image/resorts/status-icon-green.svg' %}" alt="">
                                            {% else %}
                                            <img src="{% static 'image/resorts/status-icon-red.svg' %}" alt="">
                                            {% endif %}
                                        </li>
                                        <li>
                                            Фрирайд
                                            {% if resort.freeride == 1 %}
                                            <img src="{% static 'image/resorts/status-icon-green.svg' %}" alt="">
                                            {% else %}
                                            <img src="{% static 'image/resorts/status-icon-red.svg' %}" alt="">
                                            {% endif %}
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            <div class="additional-info-column">
                                <div>
                                    <div class="card-body">
                                        <div class="timer">
                                            <div class="timer__line">
                                                <svg class="pie" width="260" viewBox="0 0 40 40">
                                                    <g>
                                                      <circle r="15.9155" cx="50%" cy="50%"></circle>
                                                      <circle r="15.9155" cx="50%" cy="50%"></circle>
                                                      <circle r="15.9155" cx="50%" cy="50%"></circle>
                                                      <circle r="15.9155" cx="50%" cy="50%"></circle>
                                                    </g>
                                                </svg>
                                            </div>
                                            <div class="timer__body">
                                                <div class="timer__counter">
                                                    <span>{{ resort.total_length_calculation }} км</span>
                                                </div>
                                            </div>

                                        </div>
                                        <div class="timer-text">Общая протяжённость и сложность трасс</div>
                                        <!-- <span class="ch1">15</span>
                                        <span class="ch2">30</span>
                                        <span class="ch3">41</span>
                                        <span class="ch4">18</span> -->
                                    </div>
                                </div>
                            </div>

                            <div class="additional-info-column">
                                <div>
                                    <h3 class="nav-lift-title">Количество и виды подъемников:</h3>
                                    <ul class="nav-lift">

                                        {% for key, value in resort.count.items %}
                                        <li>
                                            <img src="{% static 'image/resorts/'|add:key|add:'.svg' %}" alt="">
                                            {% if key == "armchair" %}
                                                <span class="bl">Кресельный</span>
                                            {% elif key == "bugelny" %}
                                                <span class="bl">Бугельный</span>
                                            {% elif key == "gondola" %}
                                                <span class="bl">Гондольный</span>
                                            {% elif key == "travelators" %}
                                                <span class="bl">Траволатор</span>
                                            {% endif %}
                                            <span class="bl">{{ value }}</span>
                                         </li>
                                        {% endfor %}

                                    </ul>
                                </div>

                            </div>

                        </div>
                        <button class="resort-map">Карта курорта</button>
                    </div>
                </div>
            </section>

            <section class="page-price-skipass">
                <div class="wrapper">
                    <div class="content">
                        <h2 class="table-title">Стоимость ски-пасс</h2>
<!--                        <div class="conten-btn">-->
<!--                            <div class="table-button">-->
<!--                                <div class="table-button-group">-->
<!--                                    <button class="table-button-blue">Временный</button>-->
<!--                                    <button class="table-button-white">Сезонный</button>-->
<!--                                </div>-->
<!--                                <div class="table-button-group">-->
<!--                                    <button class="table-button-blue">Взрослый</button>-->
<!--                                    <button class="table-button-white">Детский</button>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->

                        <div>
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Тип ски-пасса</th>
                                        <th>Название</th>
                                        <th>Цена, руб</th>
                                    </tr>
                                </thead>
                                <tbody>
                                {% for row in resort.type_name_price %}
                                    <tr>
                                        <td>{{ row.type }}</td>
                                        <td>{{ row.name }}</td>
                                        <td>{{ row.price }}</td>
                                    </tr>
                                {% endfor %}
<!--                                    <tr>-->
<!--                                        <td>1 день</td>-->
<!--                                        <td>4 750 ₽</td>-->
<!--                                        <td>4 750 ₽</td>-->
<!--                                    </tr>-->
<!--                                    <tr>-->
<!--                                        <td>2 дня</td>-->
<!--                                        <td>9 500 ₽</td>-->
<!--                                        <td>4 750 ₽</td>-->
<!--                                    </tr>-->
<!--                                    <tr>-->
<!--                                        <td>3 дня</td>-->
<!--                                        <td>14 250 ₽</td>-->
<!--                                        <td>4 750 ₽</td>-->
<!--                                    </tr>-->
<!--                                    <tr>-->
<!--                                        <td>4 дня</td>-->
<!--                                        <td>18 100 ₽</td>-->
<!--                                        <td>4 525 ₽</td>-->
<!--                                    </tr>-->
<!--                                    <tr>-->
<!--                                        <td>5 дней</td>-->
<!--                                        <td>21 400 ₽</td>-->
<!--                                        <td>4 280 ₽</td>-->
<!--                                    </tr>-->
<!--                                    <tr>-->
<!--                                        <td>6 дней</td>-->
<!--                                        <td>25 700 ₽</td>-->
<!--                                        <td>4 284 ₽</td>-->
<!--                                    </tr>-->
<!--                                    <tr>-->
<!--                                        <td>7 дней</td>-->
<!--                                        <td>29 900 ₽</td>-->
<!--                                        <td>4 272 ₽</td>-->
<!--                                    </tr>-->
                                </tbody>
                            </table>
                        </div>

                    </div>

                </div>

            </section>


<!--            <section class="page-reviews">-->
<!--                {% include "reviews.html" %}-->
<!--                <div class="wrapper">-->
<!--                    <div class="btn-container">-->
<!--                        <button class="btn resort-add-review btn-primary" type="button" id="open-modal-review">Оставить отзыв</button>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </section>-->


<!--            <div class="modal-add-review" id="modal-add-review">-->
<!--                <div class="modal-add-review__box">-->
<!--                    <button class="modal-add-review__close" id="close-modal-add-review">-->
<!--                        <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">-->
<!--                            <path fill-rule="evenodd" clip-rule="evenodd" d="M1.71507 0.280712C1.52693 0.0985542 1.27495 -0.00224062 1.0134 3.78025e-05C0.751843 0.00231622 0.501645 0.107485 0.316692 0.292894C0.131738 0.478302 0.0268265 0.729114 0.0245536 0.991311C0.0222808 1.25351 0.122829 1.50611 0.30454 1.69471L5.58457 6.98771L0.30454 12.2807C0.209264 12.373 0.133268 12.4833 0.0809879 12.6053C0.0287073 12.7273 0.00118865 12.8585 3.76645e-05 12.9913C-0.00111332 13.1241 0.0241262 13.2558 0.0742838 13.3787C0.124441 13.5016 0.198513 13.6132 0.292175 13.7071C0.385838 13.801 0.497216 13.8753 0.619811 13.9255C0.742406 13.9758 0.873763 14.0011 1.00622 14C1.13867 13.9988 1.26957 13.9712 1.39127 13.9188C1.51298 13.8664 1.62305 13.7902 1.71507 13.6947L6.9951 8.40171L12.2751 13.6947C12.4633 13.8769 12.7153 13.9777 12.9768 13.9754C13.2384 13.9731 13.4886 13.8679 13.6735 13.6825C13.8585 13.4971 13.9634 13.2463 13.9657 12.9841C13.9679 12.7219 13.8674 12.4693 13.6857 12.2807L8.40564 6.98771L13.6857 1.69471C13.8674 1.50611 13.9679 1.25351 13.9657 0.991311C13.9634 0.729114 13.8585 0.478302 13.6735 0.292894C13.4886 0.107485 13.2384 0.00231622 12.9768 3.78025e-05C12.7153 -0.00224062 12.4633 0.0985542 12.2751 0.280712L6.9951 5.57371L1.71507 0.280712Z" fill="#2C2D2E"/>-->
<!--                        </svg>-->
<!--                    </button>-->
<!--                    <div class="modal-content">-->
<!--                        <div class="modal-body">-->
<!--                            <form method="POST" class="form" enctype="multipart/form-data">-->
<!--                                <div class="resort-name-review">{{ resort.name }}</div>-->
<!--                                <div class="resort-region-review">{{ resort.region }}</div>-->
<!--                                {% csrf_token %}-->
<!--                                {% for field in form %}-->
<!--                                    <div class="form__group">-->
<!--                                        <label class="form__label" for="{{ field.id_for_label }}">{{ field.label }}:</label>-->
<!--                                        <div>{{field}}</div>-->
<!--                                    </div>-->
<!--                                {% endfor %}-->
<!--                                {{ form.media}}-->

<!--                                <button class="form__button" type="submit">Отправить отзыв</button>-->
<!--                            </form>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->


 </main>

{% endblock content %}